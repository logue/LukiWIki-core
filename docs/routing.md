# LukiWikiルーティング仕様

PukiWikiと同じように/を用いた階層構造をもたせたページを作ることができます。

ただし、`:`と`.`を含めるページ名は特殊な用途で使用するためページ名に含めることはできません。

## `:`はSPA部分で使用します。

編集する場合、`https://.../MainPage:edit`のようなルーティングになります。このアドレスの内、phpで作用するのはMainPageまでで、残りの:から始まる部分はクライアントサイド側のルーティングとなります。
`location.path.split(':')[1]`はSPA側でパラメータとして使用すると言っても差し支えありません。

`https://.../MainPage:history/1`で１世代目のバックアップを表示するみたいなルーティング処理もありえます。

## `.`は添付ファイルとページ名かの判定で使用します。

例えば、`https://.../MainPage/image.png`の場合、`MainPage`に貼り付けられた`image.png`という意味になります。もちろん、`https://.../MainPage/image.ja.png`の場合も`MainPage`に貼り付けられた`image.ja.png`という意味になります。
（PukiWikiにおける新形式のrefプラグインの添付ファイルの貼り付け方の仕様準拠）

ただし、内部的にはSHA1ハッシュでファイルを管理しているため、ファイルのハッシュ値が同じであった場合、複数のページから同一のファイルを参照しているということもあり得ます。